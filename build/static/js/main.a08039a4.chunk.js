(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5488:function(e,t,a){e.exports=a(5728)},5493:function(e,t,a){},5494:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},5495:function(e,t,a){},5498:function(e,t,a){},5728:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(20),c=a.n(s),o=(a(5493),a(50)),i=a(51),r=a(53),d=a(52),u=a(54),m=(a(5494),a(5495),a(69)),p=a.n(m),h=a(136),f=a(211),g=(a(5498),a(8)),b=a(207),v=a.n(b),E=a(18),y=(a(5502),a(137)),k={apiKey:"AIzaSyCKGReQ3pET8zhA7BGDKDjNxiYZiSbqURY",authDomain:"delivery-tracking-2732d.firebaseapp.com",databaseURL:"https://delivery-tracking-2732d.firebaseio.com",projectId:"delivery-tracking-2732d",storageBucket:"delivery-tracking-2732d.appspot.com",messagingSenderId:"332493108926",appId:"1:332493108926:web:a51ee7a87dad8a613d10ef"},C=a(70),S=a.n(C),w=a(91),N=a.n(w),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).componentWillReceiveProps=function(e){a.setState({selected:e.selected,data1:e.data1})},a.handleCheckbox=function(e,t){a.props.handleCheckbox(e,t)},a.onSelectAllClick=function(e){a.props.onSelectAllClick(e)},a.handleDateChange=function(e){},a.state={data:a.props.data,data1:a.props.data1,selected:a.props.selected},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:window.innerWidth<550?"myreacttable letsscroll":"myreacttable"},l.a.createElement(g.i,{className:this.props.root},l.a.createElement(g.p,null,l.a.createElement("div",{className:this.props.classes.title},l.a.createElement(g.r,{className:"tabletitle"},"Delivery Information Portal")),l.a.createElement("div",{className:this.props.classes.spacer}),l.a.createElement("div",{className:this.props.classes.actions},l.a.createElement(g.q,{title:"Refresh Data"},l.a.createElement(g.f,{"aria-label":"Filter list",onClick:this.props.getData},l.a.createElement(N.a,null))))),l.a.createElement(g.j,{className:this.props.table},l.a.createElement(g.m,null,l.a.createElement(g.n,null,l.a.createElement(g.l,{padding:"checkbox"},l.a.createElement(g.c,{checked:this.state.data1.length==this.state.selected.length,onChange:this.onSelectAllClick,color:"primary"})),this.state.data.map(function(e){return l.a.createElement(g.l,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default"},l.a.createElement(g.o,{className:"rowtitle"},e.label))}))),l.a.createElement(g.k,null,this.state.data1.map(function(t,a){return l.a.createElement(g.n,{hover:!0,role:"checkbox","aria-checked":e.state.selected.includes(a),tabIndex:-1,key:t.id,selected:e.state.selected.includes(a)},l.a.createElement(g.l,{padding:"checkbox"},l.a.createElement(g.c,{checked:e.state.selected.includes(a),onChange:function(t){return e.handleCheckbox(t,a)},color:"primary"})),l.a.createElement(g.l,{align:"centre"},t.orderno),l.a.createElement(g.l,{align:"centre"},t.name),l.a.createElement(g.l,{align:"centre"},t.phoneNumber),l.a.createElement(g.l,{align:"centre"},t.status))})))))}}]),t}(l.a.Component),D=Object(E.withStyles)(function(e){return{root:{width:"100%",marginTop:"20px"},table:{minWidth:1020},tableWrapper:{overflowX:"auto"},tabletitle:{},grid:{width:"60%"},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(j),O=a(210),x=a(71),M=a(139);y.initializeApp(k);var T=y.firestore(),B="https://6fcdce30.ngrok.io/",R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).getdata=function(){return T.collection("users").get().then(function(e){var t=[];e.forEach(function(e){var a=e.data();a.id=e.id,t.push(a)}),a.setState({data1:t,selected:[]})}).catch(function(e){console.log(e)})},a.onSelectAllClick=function(e){if(e.target.checked){var t=[];a.state.data1.map(function(e,a){t.push(a)}),a.setState({selected:t})}else a.setState({selected:[]})},a.makeCall=function(){var e=[];a.state.selected.map(function(t){e.push(a.state.data1[t])}),S()({method:"POST",url:B+"call",data:e,headers:{"Content-Type":"application/json"}}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.handleCheckbox=function(e,t){if(e.target.checked)a.setState({selected:[].concat(Object(f.a)(a.state.selected),[t])});else{var n=a.state.selected.filter(function(e){return e!=t});a.setState({selected:n})}},a.handleModal=function(){a.setState({open:!1})},a.handleModal1=function(){a.setState({open1:!1})},a.handleModal5=function(){a.setState({open5:!1})},a.handleSelect=function(e){a.setState({selectValue:e.target.value})},a.openModal=function(){a.state.selected.length&&a.setState({open:!0})},a.sendDelay=function(){var e=[];a.state.selected.map(function(t){var n=a.state.data1[t],l={name:n.name,phoneNumber:n.phoneNumber,message:a.state.ressons[a.state.selectValue],id:n.id};e.push(l)}),console.log(e),S()({method:"POST",url:B+"delaymsg",data:e,headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},a.handleDateChange=function(e){a.setState({scheduleDate:e})},a.schedule=function(){var e=[];a.state.selected.length&&a.state.selected.map(function(){var t=Object(h.a)(p.a.mark(function t(n){var l;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(l=a.state.data1[n]).schedule=a.state.scheduleDate,e.push(l);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),S()({method:"post",url:B+"schedule",data:e,headers:{"Content-Type":"application/json"}}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.scheduleModal=function(){a.state.selected.length&&a.setState({open1:!0})},a.recordModal=function(){a.state.selected.length&&a.setState({open5:!0})},a.changingstate=function(e){a.setState({value:e.target.value})},a.sendRecord=function(){var e=[];a.state.selected.length&&a.state.selected.map(function(){var t=Object(h.a)(p.a.mark(function t(n){var l;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(l=a.state.data1[n]).message=a.state.recordedMsg,e.push(l);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),S()({method:"POST",url:B+"record",data:e,headers:{"Content-Type":"application/json"}}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.state={value:"",data:[{label:"Purchase Order"},{label:"Customer Name"},{label:"Phone Number"},{label:"Status"}],data1:[],selected:[],open:!1,open5:!1,selectValue:"",ressons:["Traffic","Deliver tomorrow"],scheduleDate:new Date,recordedMsg:"there will be delay in delivery"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.setState({width:window.innerWidth})}},{key:"componentDidMount",value:function(){var e=this;T.collection("users").onSnapshot(function(t){var a=[];t.forEach(function(e){var t=e.data();t.id=e.id,a.push(t),console.log(a)}),e.setState({data1:a})})}},{key:"keypress",value:function(e){"Enter"===e.keypress&&(e.preventDefault(),this.setState({value:""}))}},{key:"reset",value:function(){this.setState({value:""})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"homeContainer"},l.a.createElement("div",{className:""},l.a.createElement(g.a,{position:"static",color:"primary"},l.a.createElement(g.p,null,l.a.createElement(g.r,{variant:"h6",color:"inherit"},"Delivery Confirmation Portal")))),l.a.createElement("div",{className:"homeBody"},l.a.createElement(D,{handleCheckbox:this.handleCheckbox,onSelectAllClick:this.onSelectAllClick,data:this.state.data,data1:this.state.data1,selected:this.state.selected,handleDateChange:this.handleDateChange,getData:this.getdata}),l.a.createElement("div",null),this.state.selected.length?this.state.width>549?l.a.createElement("div",{className:"submitDiv"},l.a.createElement(g.b,{style:{marginTop:"2%"},variant:"contained",color:"primary",className:"submitButton",onClick:this.recordModal},"Record"),l.a.createElement(g.b,{style:{marginTop:"2%"},variant:"contained",color:"primary",onClick:this.openModal,className:"submitButton"},"Delay Resonse"),l.a.createElement(g.b,{style:{marginTop:"2%"},variant:"contained",color:"primary",className:"submitButton",onClick:this.scheduleModal},"Schedule"),l.a.createElement(g.b,{style:{marginTop:"2%"},variant:"contained",color:"primary",onClick:this.makeCall,className:"submitButton"},"Trigger Call")):l.a.createElement("div",{className:"submitDiv"},l.a.createElement(g.f,{"aria-label":"Filter list",onClick:this.makeCall},l.a.createElement(x.b,null)),l.a.createElement(g.f,{"aria-label":"Filter list",onClick:this.scheduleModal},l.a.createElement(x.a,null)),l.a.createElement(g.f,{"aria-label":"Filter list",onClick:this.recordModal},l.a.createElement(x.d,null)),l.a.createElement(g.f,{"aria-label":"Filter list",onClick:this.openModal},l.a.createElement(x.c,null))):null,l.a.createElement("div",null,l.a.createElement(g.g,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleModal},l.a.createElement("div",{style:A(),className:this.props.classes.paper},l.a.createElement(g.r,{variant:"subtitle1",id:"simple-modal-description"},"Select any reason."),l.a.createElement(g.d,{className:this.props.classes.formControl},l.a.createElement(g.h,{value:this.state.age,onChange:this.handleSelect,name:"age",className:this.props.classes.selectEmpty},l.a.createElement("option",{value:""},"None"),this.state.ressons.map(function(e,t){return l.a.createElement("option",{value:t},e)}))),l.a.createElement(g.b,{variant:"contained",color:"primary",onClick:this.sendDelay,className:this.props.classes.sendButton},"Send")))),l.a.createElement("div",null,l.a.createElement(g.g,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open1,onClose:this.handleModal1},l.a.createElement("div",{style:A(),className:this.props.classes.paper},l.a.createElement(g.r,{variant:"subtitle1",id:"simple-modal-description"},"Pick a time"),l.a.createElement(M.b,{utils:O.a,style:this.props.classes.muipicker},l.a.createElement(g.e,{container:!0,className:this.props.classes.grid},l.a.createElement(M.a,{value:this.state.scheduleDate,onChange:this.handleDateChange}))),l.a.createElement(g.b,{variant:"contained",color:"primary",onClick:this.schedule,className:this.props.classes.sendButton},"Schedule"))),l.a.createElement(g.g,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open5,onClose:this.handleModal5},l.a.createElement("div",{style:A(),className:this.props.classes.paper},l.a.createElement(g.r,null,"Record Your Voice"),l.a.createElement(v.a,{onChange:function(t){return e.setState({recordedMsg:t})},onEnd:function(e){console.log(e)}}),l.a.createElement(g.r,null,function(e){console.log(e)}),l.a.createElement(g.b,{variant:"contained",color:"primary",onClick:this.sendRecord,className:this.props.classes.sendButton},"Send Message"))))),l.a.createElement("div",null))}}]),t}(n.Component);function A(){return{top:"".concat(30,"%"),left:"".concat(40,"%"),transform:"translate(-".concat(30,"%, -").concat(40,"%)")}}var P=Object(E.withStyles)(function(e){return{button:{marginRight:"10px",marginBottom:"10px"},paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},formControl:{margin:e.spacing.unit,minWidth:120,display:"block"},selectEmpty:{marginTop:2*e.spacing.unit},muipicker:{display:"block",width:"fit-content"},grid:{width:"100%",display:"block"}}})(R),W=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(P,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5488,1,2]]]);
//# sourceMappingURL=main.a08039a4.chunk.js.map